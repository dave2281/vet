<!DOCTYPE html>
<html lang="en">
<head>
  <title>Vet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag 'application', 'data-turbo-track': 'reload' %>
  <%= javascript_importmap_tags %>

  <style>
      #scrollToTop {
          display: none; /* Скрыть кнопку по умолчанию */
          position: fixed; /* Зафиксированное положение */
          bottom: 30px; /* Отступ от нижней грани */
          right: 30px; /* Отступ от правой грани */
          z-index: 1000; /* На переднем плане */
          border-radius: 50%; /* Круглая кнопка */
          width: 50px; /* Ширина кнопки */
          height: 50px; /* Высота кнопки */
          border: none; /* Убрать рамку */
          background-color: #007bff; /* Цвет фона */
          color: white; /* Цвет текста */
          font-size: 24px; /* Размер иконки */
      }

      #scrollToTop:hover {
          background-color: #0056b3; /* Темнее при наведении */
      }

      html, body {
          height: 100%;
          margin: 0;
          background-image: url(<%= asset_path('image-from-rawpixel-id-2999071-original.png') %>);
          background-size: cover;
          background-position: center;
      }
      .wrapper {
          display: flex;
          flex-direction: column;
          min-height: 100vh;
      }
      .content {
          flex: 1;
      }
  </style>
</head>
<body>
<div class="wrapper">
  <%= render "shared/navbar" %>

  <% if notice %>
    <div class="alert alert-success"><%= notice %></div>
  <% elsif alert %>
    <div class="alert alert-danger"><%= alert %></div>
  <% end %>

  <main class="content container">
    <% if current_user.admin?%>
      <%= link_to "Admin controll panel", admin_home_path, class: 'btn btn-primary'%>
    <% end %>
    
    <%= yield %>
    <button id="scrollToTop" class="btn btn-primary">
      <i class="bi bi-arrow-up"></i>
    </button>
  </main>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script>
      // Отображение кнопки "Прокрутить вверх" при прокрутке
      $(window).scroll(function() {
          if ($(this).scrollTop() > 20) {
              $('#scrollToTop').fadeIn();
          } else {
              $('#scrollToTop').fadeOut();
          }
      });

      // Прокрутка страницы вверх при нажатии на кнопку
      $('#scrollToTop').click(function() {
          $('html, body').animate({scrollTop : 0}, 800);
          return false;
      });
  </script>
  <footer>
    <%= render "shared/footer" %>
  </footer>
</div>
</body>
</html>
